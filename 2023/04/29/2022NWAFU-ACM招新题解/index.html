<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/images/icons/favicon-16x16.png?v=2.6.2" type="image/png" sizes="16x16"><link rel="icon" href="/images/icons/favicon-32x32.png?v=2.6.2" type="image/png" sizes="32x32"><link rel="apple-touch-icon" href="/images/icons/apple-touch-icon.png?v=2.6.2" sizes="180x180"><link rel="mask-icon" href="/images/icons/stun-logo.svg?v=2.6.2" color="#54bcff"><meta name="description" content="NWAFU ACM队22级正式队员选拔赛题解  1.    这真的是签到题：  转义字符！！！这真的是签到题 正解代码 12345#include &lt;iostream&gt;int main () &amp;#123;    printf(&quot;\&quot;ACM welcomes you\\n\&quot;&quot;);    return 0;&amp;#125;  2.    四和数 (枚举">
<meta property="og:type" content="article">
<meta property="og:title" content="2022NWAFU-ACM招新题解">
<meta property="og:url" content="http://example.com/2023/04/29/2022NWAFU-ACM%E6%8B%9B%E6%96%B0%E9%A2%98%E8%A7%A3/index.html">
<meta property="og:site_name" content="晨阳">
<meta property="og:description" content="NWAFU ACM队22级正式队员选拔赛题解  1.    这真的是签到题：  转义字符！！！这真的是签到题 正解代码 12345#include &lt;iostream&gt;int main () &amp;#123;    printf(&quot;\&quot;ACM welcomes you\\n\&quot;&quot;);    return 0;&amp;#125;  2.    四和数 (枚举">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2023-04-29T11:19:48.000Z">
<meta property="article:modified_time" content="2023-04-29T11:21:32.354Z">
<meta property="article:author" content="wudya">
<meta property="article:tag" content="ACM">
<meta name="twitter:card" content="summary"><title>2022NWAFU-ACM招新题解 | 晨阳</title><link ref="canonical" href="http://example.com/2023/04/29/2022NWAFU-ACM%E6%8B%9B%E6%96%B0%E9%A2%98%E8%A7%A3/"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.1/css/all.min.css" type="text/css"><link rel="stylesheet" href="/css/index.css?v=2.6.2"><script>var Stun = window.Stun || {};
var CONFIG = {
  root: '/',
  algolia: undefined,
  assistSearch: undefined,
  fontIcon: {"prompt":{"success":"fas fa-check-circle","info":"fas fa-arrow-circle-right","warning":"fas fa-exclamation-circle","error":"fas fa-times-circle"},"copyBtn":"fas fa-copy"},
  sidebar: {"offsetTop":"20px","tocMaxDepth":6},
  header: {"enable":true,"showOnPost":true,"scrollDownIcon":false},
  postWidget: {"endText":true},
  nightMode: {"enable":true},
  back2top: {"enable":true},
  codeblock: {"style":"default","highlight":"light","wordWrap":false},
  reward: false,
  fancybox: false,
  zoomImage: {"gapAside":"20px"},
  galleryWaterfall: undefined,
  lazyload: false,
  pjax: undefined,
  externalLink: {"icon":{"enable":true,"name":"fas fa-external-link-alt"}},
  shortcuts: undefined,
  prompt: {"copyButton":"复制","copySuccess":"复制成功","copyError":"复制失败"},
  sourcePath: {"js":"js","css":"css","images":"images"},
};

window.CONFIG = CONFIG;</script><meta name="generator" content="Hexo 6.0.0"></head><body><div class="container" id="container"><header class="header" id="header"><div class="header-inner"><nav class="header-nav header-nav--fixed"><div class="header-nav-inner"><div class="header-nav-menubtn"><i class="fas fa-bars"></i></div><div class="header-nav-menu"><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/"><span class="header-nav-menu-item__icon"><i class="fas fa-home"></i></span><span class="header-nav-menu-item__text">首页</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/archives/"><span class="header-nav-menu-item__icon"><i class="fas fa-folder-open"></i></span><span class="header-nav-menu-item__text">归档</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/categories/"><span class="header-nav-menu-item__icon"><i class="fas fa-layer-group"></i></span><span class="header-nav-menu-item__text">分类</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/tags/"><span class="header-nav-menu-item__icon"><i class="fas fa-tags"></i></span><span class="header-nav-menu-item__text">标签</span></a></div></div><div class="header-nav-mode"><div class="mode"><div class="mode-track"><span class="mode-track-moon"></span><span class="mode-track-sun"></span></div><div class="mode-thumb"></div></div></div></div></nav><div class="header-banner"><div class="header-banner-info"><div class="header-banner-info__title">晨阳</div><div class="header-banner-info__subtitle">花开堪折直须折,莫待无花空折枝</div></div></div></div></header><main class="main" id="main"><div class="main-inner"><div class="content-wrap" id="content-wrap"><div class="content" id="content"><!-- Just used to judge whether it is an article page--><div id="is-post"></div><div class="post"><header class="post-header"><h1 class="post-title">2022NWAFU-ACM招新题解</h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2023-04-29</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2023-04-29</span></span></div></header><div class="post-body"><center><font size="6"><b>NWAFU ACM队22级正式队员选拔赛题解</b></font></center>

<center><font size="5"><b>1.    这真的是签到题：</b></font></center>

<p>转义字符！！！这真的是签到题</p>
<p><strong>正解代码</strong></p>
<figure class="highlight c++"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\&quot;ACM welcomes you\\n\&quot;&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<center><font size="5"><b>2.    四和数 (枚举)</b></font></center>

<p>暴力枚举$[L,R]$区间内的每个数拆位判断即可。</p>
<p><strong>正解代码</strong></p>
<figure class="highlight c++"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> l,r;</span><br><span class="line">	cin&gt;&gt;l&gt;&gt;r;</span><br><span class="line">	<span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=l;i&lt;=r;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">int</span> x=i;</span><br><span class="line">		<span class="keyword">int</span> sum=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span>(x)</span><br><span class="line">		&#123;</span><br><span class="line">			sum+=x%<span class="number">10</span>;</span><br><span class="line">			x/=<span class="number">10</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(i%<span class="number">4</span>==<span class="number">0</span>&amp;&amp;sum%<span class="number">4</span>==<span class="number">0</span>) ans++;</span><br><span class="line">	&#125;</span><br><span class="line">	cout&lt;&lt;ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>对于每个数x，最多拆$\log_{10} x$位。时间复杂度$O(n\log n)$。</p>
<center><font size="5"><b>3.小D买文具</b></font></center>

<p>$O(n^2)$做法: 枚举$a$，$b$的个数，判断$n-5a-3b$是否大于等于$0$并且被$2$整除即可。如果合法，与目前最优的方案进行比较更新。由于枚举时$a$只用枚举到$\frac{n}{5}$，$b$只用枚举到$\frac{n}{3}$，时间复杂度是够的。</p>
<p><strong>正解代码</strong></p>
<figure class="highlight c++"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	<span class="keyword">bool</span> flag=<span class="number">0</span>; <span class="comment">//判断有无解</span></span><br><span class="line">	<span class="keyword">int</span> pa,pb,pc; <span class="comment">//答案</span></span><br><span class="line">	<span class="keyword">int</span> mi=<span class="number">0</span>; <span class="comment">//a,b,c最小值</span></span><br><span class="line">	<span class="keyword">int</span> sum=<span class="number">0</span>; <span class="comment">//a+b+c</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> a=<span class="number">0</span>;a*<span class="number">5</span>&lt;=n;a++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> b=<span class="number">0</span>;b*<span class="number">3</span>&lt;=n;b++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span>(n<span class="number">-5</span>*a<span class="number">-3</span>*b&gt;=<span class="number">0</span>&amp;&amp;(n<span class="number">-5</span>*a<span class="number">-3</span>*b)%<span class="number">2</span>==<span class="number">0</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				flag=<span class="number">1</span>;</span><br><span class="line">				<span class="keyword">int</span> c=(n<span class="number">-5</span>*a<span class="number">-3</span>*b)/<span class="number">2</span>;</span><br><span class="line">				<span class="keyword">if</span>(<span class="built_in">min</span>(a,<span class="built_in">min</span>(b,c))&gt;mi)</span><br><span class="line">				&#123;</span><br><span class="line">					mi=<span class="built_in">min</span>(a,<span class="built_in">min</span>(b,c));</span><br><span class="line">					sum=a+b+c;</span><br><span class="line">					pa=a,pb=b,pc=c;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">min</span>(a,<span class="built_in">min</span>(b,c))==mi)</span><br><span class="line">				&#123;</span><br><span class="line">					<span class="keyword">if</span>(a+b+c&gt;sum)</span><br><span class="line">					&#123;</span><br><span class="line">						sum=a+b+c;</span><br><span class="line">						pa=a,pb=b,pc=c;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(flag==<span class="number">0</span>) cout&lt;&lt;<span class="number">-1</span>;</span><br><span class="line">	<span class="keyword">else</span> cout&lt;&lt;pa&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;pb&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;pc;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>$O(1)$做法：</p>
<p>只有当$n$为$1$时无解，其余情况:</p>
<p>注意到10拆成2+3+5，即a，b，c各一个是最优的，所以先把10拆了。</p>
<p>$n% 10$的余数进行分类讨论:</p>
<p>除了$n%10=1$的话需要向上一位借个10出来组合，其余的都可以用2,3,5组合出来，具体分发看代码:</p>
<p><strong>正解代码</strong></p>
<figure class="highlight c++"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line">	cin &gt;&gt; n;</span><br><span class="line">	<span class="keyword">if</span>(n==<span class="number">1</span>)</span><br><span class="line">		cout &lt;&lt; <span class="number">-1</span> &lt;&lt; endl;</span><br><span class="line">	<span class="keyword">else</span>&#123;</span><br><span class="line">		<span class="keyword">int</span> p=n/<span class="number">10</span>;</span><br><span class="line">		<span class="keyword">int</span> a,b,c;</span><br><span class="line">		<span class="keyword">if</span>(n%<span class="number">10</span> == <span class="number">0</span>)&#123;</span><br><span class="line">			a=p;</span><br><span class="line">			b=p;</span><br><span class="line">			c=p;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(n%<span class="number">10</span> == <span class="number">1</span>)&#123;</span><br><span class="line">			a = p<span class="number">-1</span>;</span><br><span class="line">			b = p;</span><br><span class="line">			c = p+<span class="number">3</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(n%<span class="number">10</span> == <span class="number">2</span>)&#123;</span><br><span class="line">			a=p;</span><br><span class="line">			b=p;</span><br><span class="line">			c=p+<span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(n%<span class="number">10</span>==<span class="number">3</span>)&#123;</span><br><span class="line">			a=p;</span><br><span class="line">			b=p+<span class="number">1</span>;</span><br><span class="line">			c=p;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(n%<span class="number">10</span>==<span class="number">4</span>)&#123;</span><br><span class="line">			a=p;</span><br><span class="line">			b=p;</span><br><span class="line">			c=p+<span class="number">2</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(n%<span class="number">10</span>==<span class="number">5</span>)&#123;</span><br><span class="line">			a=p;</span><br><span class="line">			b=p+<span class="number">1</span>;</span><br><span class="line">			c=p+<span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(n%<span class="number">10</span>==<span class="number">6</span>)&#123;</span><br><span class="line">			a=p;</span><br><span class="line">			b=p;</span><br><span class="line">			c=p+<span class="number">3</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(n%<span class="number">10</span>==<span class="number">7</span>)&#123;</span><br><span class="line">			a=p;</span><br><span class="line">			b=p+<span class="number">1</span>;</span><br><span class="line">			c=p+<span class="number">2</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(n%<span class="number">10</span>==<span class="number">8</span>)&#123;</span><br><span class="line">			a=p;</span><br><span class="line">			b=p;</span><br><span class="line">			c=p+<span class="number">4</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(n%<span class="number">10</span>==<span class="number">9</span>)&#123;</span><br><span class="line">			a=p;</span><br><span class="line">			b=p+<span class="number">1</span>;</span><br><span class="line">			c=p+<span class="number">3</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		cout &lt;&lt; a &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; b &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; c &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"> 	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<center><font size="5"><b>4.大阳分大洋 (前缀和)
</b></font></center>

<p>是一道前缀和的裸题，维护一个前缀和数组，从前向后遍历判断前后和是否相等即可，但是想ac要注意一个坑点，如果整个数组和为0那么答案要减1，因为大洋是分给两个人的不能其中一个人拿走全部。</p>
<p><strong>正解代码</strong></p>
<figure class="highlight c++"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1e6</span> + <span class="number">10</span>;</span><br><span class="line"><span class="comment">//注意要开longlong</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> int long long</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n, x;</span><br><span class="line"><span class="keyword">int</span> a[N];</span><br><span class="line"><span class="keyword">int</span> s[N];</span><br><span class="line"><span class="keyword">int</span> ans;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> s[r] - s[l - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	cin &gt;&gt; n;</span><br><span class="line">    </span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">		cin &gt;&gt; x;</span><br><span class="line">		s[i] = s[i - <span class="number">1</span>] + x;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//遍历的时候直接不管最后一个点来处理坑点</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">get</span>(<span class="number">1</span>, i) == <span class="built_in">get</span>(i + <span class="number">1</span>, n)) &#123;</span><br><span class="line">			ans++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<center><font size="5"><b>5.    汉诺塔（递推，快速幂）
 </b></font></center>

<p>考虑$f_n$为将$ n $片黄金圆盘移动到$ 3 $号金刚石柱子所需要的时间。可以先将$n-1$片圆盘移动到2号柱子，再将剩下的一片移动到3号柱子，最后$n-1$片圆盘移动到3号圆柱子。得到递推公式：<br>$$<br>f_n=f_{n-1}+1+f_{n-1}<br>$$<br>由于只有1片圆盘只用移动$n$次，由：<br>$$<br>\begin{cases}f_n=2f_{n-1}+1&amp;&amp;n\geq 1\f_1=1\end{cases}<br>$$<br>到这里，使用递推或递归的写法已经可以拿到$12$分了，要想拿全分：</p>
<p>得出${f_n+1}$是首项为2，公比为2的等比数列。</p>
<p>可以得到$f_n=2^n-1$。</p>
<p>由于n很大，得使用快速幂算法。</p>
<p><strong>正解代码</strong></p>
<figure class="highlight c++"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> LL;</span><br><span class="line"><span class="keyword">const</span> LL mod=<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line"><span class="function">LL <span class="title">qpow</span><span class="params">(LL a,LL b,LL p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	LL res=<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">while</span>(b)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(b&amp;<span class="number">1</span>) res=res*a%p;</span><br><span class="line">		a=a*a%p;</span><br><span class="line">		b&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	cout&lt;&lt;(<span class="built_in">qpow</span>(<span class="number">2</span>,n,mod)<span class="number">-1</span>+mod)%mod;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>时间复杂度$O(\log n)$。</p>
<center><font size="5"><b>6.    突击考试（枚举）</b></font></center>

<p>注意到$A[i]$和$B[i]$非常小，可以通过枚举$K$的值看看得出的$L$是多少。</p>
<p><strong>正解代码</strong></p>
<figure class="highlight c++"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> a[maxn],b[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;a[i]&gt;&gt;b[i];</span><br><span class="line">	<span class="keyword">int</span> L=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">int</span> K;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">5</span>;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">int</span> sum=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=n;j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span>(a[j]==i||b[j]==i) sum++;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">if</span>(sum&gt;L)</span><br><span class="line">				&#123;</span><br><span class="line">					L=sum;</span><br><span class="line">					K=i;</span><br><span class="line">				&#125;</span><br><span class="line">				sum=<span class="number">0</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(sum&gt;L)</span><br><span class="line">		&#123;</span><br><span class="line">			L=sum;</span><br><span class="line">			K=i;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	cout&lt;&lt;L&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;K&lt;&lt;endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>时间复杂度$O(5n)$。</p>
<center><font size="5"><b>7.    小华的立方数 (二分)
</b></font></center>

<p>这道题是个裸二分题目，跟二分课后习题的一个题目几乎是一模一样（那个题是平方，这里是立方，就这一个区别），$AC$的思路就是用二分找到对应的区间即可（记得开$long long$。）</p>
<p><strong>正解代码</strong></p>
<figure class="highlight c++"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> int long long</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">reback</span><span class="params">(<span class="keyword">int</span> k)</span></span>&#123;<span class="comment">//用二分法找出小于等于k小的立方数有几个</span></span><br><span class="line">	<span class="keyword">int</span> l=<span class="number">0</span>,r=<span class="number">1e6</span>+<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">while</span>(l&lt;=r)&#123;</span><br><span class="line">		<span class="keyword">int</span> mid=l+r&gt;&gt;<span class="number">1</span>;</span><br><span class="line">		<span class="keyword">if</span>(mid*mid*mid&lt;=k) l=mid+<span class="number">1</span>;</span><br><span class="line">		<span class="keyword">else</span> r=mid<span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> l<span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	std::ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">	std::cin.<span class="built_in">tie</span>(<span class="number">0</span>),std::cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">int</span> t;</span><br><span class="line">	std::cin &gt;&gt; t;</span><br><span class="line">	<span class="keyword">while</span>(t--)&#123;</span><br><span class="line">		<span class="keyword">int</span> l,r;</span><br><span class="line">		std::cin &gt;&gt; l &gt;&gt; r;</span><br><span class="line">		<span class="keyword">int</span> a=<span class="built_in">reback</span>(r);</span><br><span class="line">		<span class="keyword">int</span> b=<span class="built_in">reback</span>(l<span class="number">-1</span>);</span><br><span class="line">		<span class="keyword">int</span> ans=a-b;</span><br><span class="line">		std::cout &lt;&lt; ans &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>时间复杂度$O(n\log n)$。</p>
<center><font size="5"><b>8.小华的幸福</b></font></center>

<p>​        先不考虑最后的概率，而是先考虑合理方案数，即有多少对$&lt;i,j&gt;$（i,j没有顺序,在本题中，$&lt;i,j&gt;$和$&lt;i,j&gt;$是一种情况）,满足$a[i]+a[j]=k$，也有很多种解法，包括但不限于二分，哈希，尺取。而我出这道题主要的目的是考察二分，因为哈希和尺取绝大多数人应该是不会的（如果你会，当我没说，qwq）。本篇将尽可能从各个数据范围去考虑这道题目。主要讲二分和哈希（尺取法暂时不讲，因为我不熟，讲不透彻，不如不讲，感兴趣可以自己查资料，还请见谅。）</p>

        <h3 id="1-对于前70-数据范围的解法">
          <a href="#1-对于前70-数据范围的解法" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-对于前70-数据范围的解法" class="headerlink" title="1.对于前70%数据范围的解法"></a>1.对于前70%数据范围的解法</h3>
      <p>​        前40%的数据范围$（7/10）$的用例，很显然可以直接暴力求解，我们只需要用$O(n*n)$去枚举即可。</p>
<figure class="highlight c++"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> int long long</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n,k;</span><br><span class="line">    std::cin &gt;&gt; n &gt;&gt; k;</span><br><span class="line">    <span class="function">std::vector&lt;<span class="keyword">int</span>&gt; <span class="title">a</span><span class="params">(n+<span class="number">1</span>)</span></span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++) std::cin &gt;&gt; a[i];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)&#123;</span><br><span class="line">    	<span class="keyword">for</span>(<span class="keyword">int</span> j=i+<span class="number">1</span>; j&lt;=n; j++)&#123;</span><br><span class="line">   	 		<span class="keyword">if</span>(a[i]+a[j]==k) ans++;</span><br><span class="line">    	&#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; ans &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>​        如果只要60%的分数，以上就已经足够，不需要其他花里胡哨的思路（还是那句话，算法不在高级，适合才是最好的，暴力很稳，而且好写，那就用暴力最好）。如果你想知道更大范围的数据的处理方法，接着往下看：</p>

        <h3 id="2-对于100-数据范围的解法">
          <a href="#2-对于100-数据范围的解法" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-对于100-数据范围的解法" class="headerlink" title="2.对于100%数据范围的解法"></a>2.对于100%数据范围的解法</h3>
      <p>​        其他的数据基本就是满数据了（即O(n*n)的解法是没办法通过的），那么就需要所谓“花里胡哨”的办法：</p>

        <h4 id="1-二分解法">
          <a href="#1-二分解法" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-二分解法" class="headerlink" title="1.二分解法"></a>1.二分解法</h4>
      <p>​        这道题和那天讲的例题相比，有比较多的坑点（待会儿细说）。</p>
<p>​        既然二分，还是得先找有序的条件，那么，这里只有数组，所以排序是最合适的（因为他只是说选两个数，跟原来的位置没有关系）。</p>
<figure class="highlight c++"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> n,x;</span><br><span class="line">std::cin &gt;&gt; n &gt;&gt; x;</span><br><span class="line"><span class="function">std::vector&lt;<span class="keyword">int</span>&gt; <span class="title">a</span><span class="params">(n+<span class="number">1</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++) std::cin &gt;&gt; a[i];</span><br><span class="line">std::<span class="built_in">sort</span>(a.<span class="built_in">begin</span>()+<span class="number">1</span>,a.<span class="built_in">end</span>());</span><br></pre></td></tr></table></div></figure>

<p>​        排好序之后，因为我们要找的是$a[i]+a[j]=x$的对数，所以只要$a[i]$确定，$a[j]$就一定是确定的，那么我们就可以用二分查找看看有没有$a[j]$,这里就有了第一个坑点：</p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a[j]不止一个-----那么我们就得写两个二分，不用说，肯定是找头跟尾呗，我们可以找到第一个出现a[j]的位置l，再找到最后一个a[j]出现的位置l1（或者最后一个a[j]的下一个位置），这样，对于a[i]来说，满足题意的一共就有l1-l个数。</span><br></pre></td></tr></table></div></figure>

<figure class="highlight c++"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> l=<span class="number">1</span>,r=n;</span><br><span class="line"><span class="keyword">while</span>(l&lt;=r)&#123;</span><br><span class="line">	<span class="keyword">int</span> mid=l+r&gt;&gt;<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">if</span>(a[mid]&gt;=x-a[i]) r=mid<span class="number">-1</span>;</span><br><span class="line">	<span class="keyword">else</span> l=mid+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> l1=<span class="number">1</span>,r1=n;</span><br><span class="line"><span class="keyword">while</span>(l1&lt;=r1)&#123;</span><br><span class="line">	<span class="keyword">int</span> mid=l1+r1&gt;&gt;<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">if</span>(a[mid]&gt;x-a[i]) r1=mid<span class="number">-1</span>;</span><br><span class="line">	<span class="keyword">else</span> l1=mid+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">re+=l1-l;</span><br></pre></td></tr></table></div></figure>

<p>​        这样貌似就可以了（不可能的，哪里这么容易），如果此时的$a[i]=a[j]$呢，这里就有了第二个坑点：</p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a[i]=a[j]-----如果是这种情况，那么上面l1-l个数中是多算了a[i]的（毕竟一个数只能选一个，就像你自己不能跟自己~~~~~，咳咳，打住，此处不宜开车），所以呢？减掉不就完了，那么这种情况下满足题意的一共有l1-l-<span class="number">1</span>个数。</span><br></pre></td></tr></table></div></figure>

<figure class="highlight c++"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(i&gt;=l&amp;&amp;i&lt;l1) re+=l1-l<span class="number">-1</span>;</span><br><span class="line"><span class="keyword">else</span> re+=l1-l;</span><br></pre></td></tr></table></div></figure>

<p>​        于是我们按照以上的思路写完代码写了代码，但是一测样例，呀，咋成$2$倍了，这里就有了第三个坑点（其实准确来说这个不算坑点，因为只要你不是写好就交，肯定看得出来）：</p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">多算了------这里的数对是无序的啊，即用下标表示的话&lt;<span class="number">1</span>,<span class="number">2</span>&gt;和&lt;<span class="number">2</span>,<span class="number">1</span>&gt;是一种情况啊，那么，除以<span class="number">2</span>就可以。</span><br></pre></td></tr></table></div></figure>

<p>​        我认为这道题还是蛮坑的，尤其是第二种情况，很容易忽略掉，其他的都还好。</p>
<p>以下为解决这个子问题的code(这里就不写注释了，上面基本说的比较清楚了，主要还是我懒)</p>
<p>然后还有一点：记得开$long long$</p>
<figure class="highlight c++"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> int long long</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n,x;</span><br><span class="line">	std::cin &gt;&gt; n &gt;&gt; x;</span><br><span class="line">	<span class="function">std::vector&lt;<span class="keyword">int</span>&gt; <span class="title">a</span><span class="params">(n+<span class="number">1</span>)</span></span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++) std::cin &gt;&gt; a[i];</span><br><span class="line">	std::<span class="built_in">sort</span>(a.<span class="built_in">begin</span>()+<span class="number">1</span>,a.<span class="built_in">end</span>());</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">int</span> re=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(a[i]&gt;x) <span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">int</span> l=<span class="number">1</span>,r=n;</span><br><span class="line">		<span class="keyword">while</span>(l&lt;=r)&#123;</span><br><span class="line">			<span class="keyword">int</span> mid=l+r&gt;&gt;<span class="number">1</span>;</span><br><span class="line">			<span class="keyword">if</span>(a[mid]&gt;=x-a[i]) r=mid<span class="number">-1</span>;</span><br><span class="line">			<span class="keyword">else</span> l=mid+<span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> l1=<span class="number">1</span>,r1=n;</span><br><span class="line">		<span class="keyword">while</span>(l1&lt;=r1)&#123;</span><br><span class="line">			<span class="keyword">int</span> mid=l1+r1&gt;&gt;<span class="number">1</span>;</span><br><span class="line">			<span class="keyword">if</span>(a[mid]&gt;x-a[i]) r1=mid<span class="number">-1</span>;</span><br><span class="line">			<span class="keyword">else</span> l1=mid+<span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(i&gt;=l&amp;&amp;i&lt;l1) re+=l1-l<span class="number">-1</span>;</span><br><span class="line">		<span class="keyword">else</span> re+=l1-l;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	std::cout &lt;&lt; re/<span class="number">2</span> &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>


        <h4 id="2-哈希">
          <a href="#2-哈希" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-哈希" class="headerlink" title="2.哈希"></a>2.哈希</h4>
      <p>​        哈希，这是后面要学的，也是比较重要的一块，对于本题来说就是把数当作下标来用，然后统计一个数出现的次数，这样，我们压根就不用二分，对于每一个$a[i]$，直接$re+=cnt[k-a[i]]$即可，不过要保证的是$a[i]&lt;=k$，这个也还好，这样的话，代码就很简单，开一个大数组计数就可以，不过数组最大能开多大呢，事实上，一道题目的数组最大可以开到$10^7$的级别，超过就会MLE（超出内存限制），那么这里需要用到一种数据结构:map，map可以像数组一样使用，插入一个数和查找对应键值（暂时理解为下标）的复杂度为$O(logn)$，这样总复杂度为$O(nlogn)$，其实跟二分的复杂度差不多。</p>
<p>这种方法的代码如下（还是那句话，记得开long long）：</p>
<figure class="highlight c++"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> int long long</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n,x;</span><br><span class="line">	std::cin &gt;&gt; n &gt;&gt; x;</span><br><span class="line">	<span class="function">std::vector&lt;<span class="keyword">int</span>&gt; <span class="title">a</span><span class="params">(n+<span class="number">1</span>)</span></span>;</span><br><span class="line">	std::map&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; mp;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++) std::cin &gt;&gt; a[i],mp[a[i]]++;</span><br><span class="line">	<span class="keyword">int</span> re=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(a[i]&gt;x) <span class="keyword">continue</span>;</span><br><span class="line">		re+=mp[x-a[i]];</span><br><span class="line">		<span class="keyword">if</span>(x-a[i]==a[i]) re--;</span><br><span class="line">	&#125;</span><br><span class="line">	std::cout &lt;&lt; re/<span class="number">2</span> &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>​          这种做法更简单，但是并不容易想到，尤其是不太熟悉STL的同学，如果你会map，以上方法肯定是最好处理这道题的。</p>
<p>接下来在回到原题目，考虑最终的概率，题目要求对于$10^9+7$取模，很明显是乘法逆元，有两种方法，可以用快速幂费马小定理或者扩展欧几里得，这里因为$10^9+7$是质数，所以再用快速幂会更容易（其实都差不多啦）最终的<strong>正解代码</strong>如下：</p>
<figure class="highlight c++"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//二分的解法</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> int long long</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod = <span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">qpow</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">	a%=mod;</span><br><span class="line">	<span class="keyword">int</span> re=<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">while</span>(b)&#123;</span><br><span class="line">		<span class="keyword">if</span>(b&amp;<span class="number">1</span>) re=re*a%mod;</span><br><span class="line">		a=a*a%mod;</span><br><span class="line">		b&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> re%mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n,x;</span><br><span class="line">	std::cin &gt;&gt; n &gt;&gt; x;</span><br><span class="line">	<span class="function">std::vector&lt;<span class="keyword">int</span>&gt; <span class="title">a</span><span class="params">(n+<span class="number">1</span>)</span></span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++) std::cin &gt;&gt; a[i];</span><br><span class="line">	std::<span class="built_in">sort</span>(a.<span class="built_in">begin</span>()+<span class="number">1</span>,a.<span class="built_in">end</span>());</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">int</span> re=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(a[i]&gt;x) <span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">int</span> l=<span class="number">1</span>,r=n;</span><br><span class="line">		<span class="keyword">while</span>(l&lt;=r)&#123;</span><br><span class="line">			<span class="keyword">int</span> mid=l+r&gt;&gt;<span class="number">1</span>;</span><br><span class="line">			<span class="keyword">if</span>(a[mid]&gt;=x-a[i]) r=mid<span class="number">-1</span>;</span><br><span class="line">			<span class="keyword">else</span> l=mid+<span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> l1=<span class="number">1</span>,r1=n;</span><br><span class="line">		<span class="keyword">while</span>(l1&lt;=r1)&#123;</span><br><span class="line">			<span class="keyword">int</span> mid=l1+r1&gt;&gt;<span class="number">1</span>;</span><br><span class="line">			<span class="keyword">if</span>(a[mid]&gt;x-a[i]) r1=mid<span class="number">-1</span>;</span><br><span class="line">			<span class="keyword">else</span> l1=mid+<span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(i&gt;=l&amp;&amp;i&lt;l1) re+=l1-l<span class="number">-1</span>;</span><br><span class="line">		<span class="keyword">else</span> re+=l1-l;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	std::cout &lt;&lt; re/<span class="number">2</span>%<span class="function">mod*<span class="title">qpow</span><span class="params">(n*(n<span class="number">-1</span>)/<span class="number">2</span>,mod<span class="number">-2</span>)</span>%mod &lt;&lt; &#x27;\n&#x27;</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

<p>​        </p>
<figure class="highlight c++"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//map的解法</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> int long long</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod = <span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">qpow</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">	a%=mod;</span><br><span class="line">	<span class="keyword">int</span> re=<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">while</span>(b)&#123;</span><br><span class="line">		<span class="keyword">if</span>(b&amp;<span class="number">1</span>) re=re*a%mod;</span><br><span class="line">		a=a*a%mod;</span><br><span class="line">		b&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> re%mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n,x;</span><br><span class="line">	std::cin &gt;&gt; n &gt;&gt; x;</span><br><span class="line">	<span class="function">std::vector&lt;<span class="keyword">int</span>&gt; <span class="title">a</span><span class="params">(n+<span class="number">1</span>)</span></span>;</span><br><span class="line">	std::map&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; mp;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++) std::cin &gt;&gt; a[i],mp[a[i]]++;</span><br><span class="line">	<span class="keyword">int</span> re=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(a[i]&gt;x) <span class="keyword">continue</span>;</span><br><span class="line">		re+=mp[x-a[i]];</span><br><span class="line">		<span class="keyword">if</span>(x-a[i]==a[i]) re--;</span><br><span class="line">	&#125;</span><br><span class="line">	std::cout &lt;&lt; re/<span class="number">2</span>%<span class="function">mod*<span class="title">qpow</span><span class="params">(n*(n<span class="number">-1</span>)/<span class="number">2</span>,mod<span class="number">-2</span>)</span>%mod &lt;&lt; &#x27;\n&#x27;</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<center><font size="5"><b>9.    元素周期表 (模拟)</b></font></center>

<p>本题为一道模拟题，思路很简单本质考察大家对题意的理解和代码实现能力，可能题面描述没有非常清晰，导致对部分没学过化学的同学不太友好。</p>

        <h4 id="正解代码：">
          <a href="#正解代码：" class="heading-link"><i class="fas fa-link"></i></a><a href="#正解代码：" class="headerlink" title="正解代码："></a>正解代码：</h4>
      <p>此题可以优先存储下题目所给的电子排列顺序在一个字符数组中，然后循环模拟<strong>n</strong>个电子在其中的排布；最后因为题目要求的输出顺序不遵守一般化学的排列顺序（这里为了考察排序的写法改了一下）因此需要另写排列顺序，将排好的元素进行输出。</p>
<figure class="highlight c++"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">1e3</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">char</span> s[<span class="number">1010</span>][<span class="number">10</span>]=&#123;<span class="string">&quot;1s&quot;</span>,<span class="string">&quot;2s&quot;</span>,<span class="string">&quot;2p&quot;</span>,<span class="string">&quot;3s&quot;</span>,<span class="string">&quot;3p&quot;</span>,<span class="string">&quot;4s&quot;</span>,<span class="string">&quot;3d&quot;</span>,<span class="string">&quot;4p&quot;</span>,<span class="string">&quot;5s&quot;</span>,<span class="string">&quot;4d&quot;</span>,<span class="string">&quot;5p&quot;</span>,<span class="string">&quot;6s&quot;</span>,<span class="string">&quot;4f&quot;</span>,<span class="string">&quot;5d&quot;</span>,<span class="string">&quot;6p&quot;</span>,<span class="string">&quot;7s&quot;</span>,<span class="string">&quot;5f&quot;</span>,<span class="string">&quot;6d&quot;</span>,<span class="string">&quot;7p&quot;</span>&#125;;</span><br><span class="line"><span class="comment">//s数组优先处理出排列顺序</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></span><br><span class="line">    <span class="keyword">char</span> s[<span class="number">10</span>];</span><br><span class="line">    <span class="keyword">int</span> cnt;</span><br><span class="line">&#125;a[N];</span><br><span class="line"><span class="comment">//结构体存放每层元素和所具有的原子个数</span></span><br><span class="line"><span class="keyword">char</span> st[<span class="number">5</span>]=&#123;<span class="string">&#x27;s&#x27;</span>,<span class="string">&#x27;p&#x27;</span>,<span class="string">&#x27;d&#x27;</span>,<span class="string">&#x27;f&#x27;</span>&#125;;<span class="comment">//用于对spdf的排序处理</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(Node x,Node y)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x.s[<span class="number">0</span>]!=y.s[<span class="number">0</span>])<span class="keyword">return</span> x.s[<span class="number">0</span>]&lt;y.s[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">int</span> a,b;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(x.s[<span class="number">1</span>]==st[i])a=i;</span><br><span class="line">        <span class="keyword">if</span>(y.s[<span class="number">1</span>]==st[i])b=i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> a&lt;b;</span><br><span class="line">&#125;<span class="comment">//排序规则函数</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        <span class="keyword">int</span> n,idx=<span class="number">0</span>;</span><br><span class="line">        cin&gt;&gt;n; </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">19</span>;i++)&#123;</span><br><span class="line">            a[i].s[<span class="number">0</span>]=s[i][<span class="number">0</span>];</span><br><span class="line">            a[i].s[<span class="number">1</span>]=s[i][<span class="number">1</span>];</span><br><span class="line">            a[i].cnt=<span class="number">0</span>;</span><br><span class="line">        &#125;<span class="comment">//因为有多组测试用例，初始化结构体</span></span><br><span class="line">        <span class="keyword">while</span>(n)&#123;<span class="comment">//模拟电子排列顺序</span></span><br><span class="line">            <span class="keyword">if</span>(a[idx].s[<span class="number">1</span>]==<span class="string">&#x27;s&#x27;</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(n&gt;=<span class="number">2</span>)&#123;a[idx].cnt=<span class="number">2</span>;n-=<span class="number">2</span>;&#125;</span><br><span class="line">                <span class="keyword">else</span> &#123;a[idx].cnt=n;n=<span class="number">0</span>;&#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(a[idx].s[<span class="number">1</span>]==<span class="string">&#x27;p&#x27;</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(n&gt;=<span class="number">6</span>)&#123;a[idx].cnt=<span class="number">6</span>;n-=<span class="number">6</span>;&#125;</span><br><span class="line">                <span class="keyword">else</span> &#123;a[idx].cnt=n;n=<span class="number">0</span>;&#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(a[idx].s[<span class="number">1</span>]==<span class="string">&#x27;d&#x27;</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(n&gt;=<span class="number">10</span>)&#123;a[idx].cnt=<span class="number">10</span>;n-=<span class="number">10</span>;&#125;</span><br><span class="line">                <span class="keyword">else</span> &#123;a[idx].cnt=n;n=<span class="number">0</span>;&#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(a[idx].s[<span class="number">1</span>]==<span class="string">&#x27;f&#x27;</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(n&gt;=<span class="number">14</span>)&#123;a[idx].cnt+=<span class="number">14</span>;n-=<span class="number">14</span>;&#125;</span><br><span class="line">                <span class="keyword">else</span> &#123;a[idx].cnt=n;n=<span class="number">0</span>;&#125;</span><br><span class="line">            &#125;</span><br><span class="line">            idx++;<span class="comment">//逐层填充电子，充当指针作用</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">sort</span>(a,a+idx,cmp);<span class="comment">//排序</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;idx;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(a[i].cnt==<span class="number">0</span>)<span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span>(i!=<span class="number">0</span>)</span><br><span class="line">            cout&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">            cout&lt;&lt;a[i].s[<span class="number">0</span>]&lt;&lt;a[i].s[<span class="number">1</span>]&lt;&lt;a[i].cnt;</span><br><span class="line">            <span class="comment">//处理输出和格式问题</span></span><br><span class="line">        &#125;</span><br><span class="line">        cout&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<center><font size="5"><b>10.    剑刃风暴（排序）</b></font></center>

<p>本题的理想过题情况是：很多人读题后发现$70%$数据范围所有随从没有<strong>亡语</strong>，这部分的分数是可以拿到的，其中少部分人发现考虑到<strong>亡语</strong>的写法跟不考虑没什么区别，成功拿到$100%$的分数。应该是7-9的题太难写了导致7-10没时间。（7-9出题人背大锅）</p>

        <h2 id="70-做法">
          <a href="#70-做法" class="heading-link"><i class="fas fa-link"></i></a><a href="#70-做法" class="headerlink" title="$70%$做法"></a>$70%$做法</h2>
      <p>不妨这样思考这道题：</p>
<p>1.初始场上有$n$个随从，答案是$n$；</p>
<p>2.每个随从被消灭后会使答案减$1$；</p>
<p>3.每使用一次剑刃风暴的作用是： 消灭所有场上生命值等于最低生命值的随从。</p>
<p>现在的问题是，该怎么每次方便地得到所有生命值最低的随从呢？–使用排序。</p>
<p>$40%$的数据使用$O(n^2)$的排序可以过，$70%$的数据使用$O(n\log n)$的排序可以过。</p>
<p>注意到本题的$A_i$的范围不大，也可以使用$O(n)$的桶排序。</p>
<p>本题也可以使用堆模拟。</p>
<figure class="highlight c++"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e6</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> a[maxn]; <span class="comment">//血量</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n,x;</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;x;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">int</span> k;</span><br><span class="line">		cin&gt;&gt;a[i]&gt;&gt;k;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">sort</span>(a+<span class="number">1</span>,a+<span class="number">1</span>+n);</span><br><span class="line">	<span class="keyword">int</span> ans=n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(a[i]!=a[i<span class="number">-1</span>]) <span class="comment">//如果某一个随从跟前一个随从血量不一样，就得消耗一次剑刃风暴</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(x==<span class="number">0</span>) <span class="keyword">break</span>; <span class="comment">//如果剑刃风暴用完了，结束。</span></span><br><span class="line">            x--;</span><br><span class="line">        &#125;</span><br><span class="line">        ans--;</span><br><span class="line">	&#125;</span><br><span class="line">	cout&lt;&lt;ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>时间复杂度$O(n\log n)$。</p>

        <h2 id="100-做法">
          <a href="#100-做法" class="heading-link"><i class="fas fa-link"></i></a><a href="#100-做法" class="headerlink" title="$100%$做法"></a>$100%$做法</h2>
      <p>同$70%$的思路：</p>
<p>只是更改为了：每个随从被消灭后，自身死亡后会召唤这个随从亡语召唤的随从，对答案的贡献是$k_i-1$；</p>
<p>为了排序方便，把所有亡语召唤的随从也参与排序。对于随从$B_{i,j}$，由于它只有在$A_i$死亡后$B_{i,j}$才会受到伤害，所以可以它的血量看成$A_i+B_{i,j}$。</p>
<p>以血量从小到大进行排序，使用$O(n\log n)$的排序可以过。</p>
<p>注意到本题的$A_i$和$B_{i,j}$的范围不大，也可以使用$O(n)$的桶排序。</p>
<p>本题也可以使用堆模拟。</p>

        <h4 id="正解代码：-1">
          <a href="#正解代码：-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#正解代码：-1" class="headerlink" title="正解代码："></a>正解代码：</h4>
      <figure class="highlight c++"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e6</span>+<span class="number">5</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">int</span> h;<span class="comment">//血量</span></span><br><span class="line">	<span class="keyword">int</span> k;<span class="comment">//亡语数量</span></span><br><span class="line">&#125;a[maxn];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(node x,node y)</span> <span class="comment">//以血量从小到大排序</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> x.h&lt;y.h;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> idx;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n,x;</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;x;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">int</span> A,k;</span><br><span class="line">		cin&gt;&gt;A&gt;&gt;k;</span><br><span class="line">		a[++idx]=&#123;A,k&#125;;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=k;j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">int</span> B;</span><br><span class="line">			cin&gt;&gt;B;</span><br><span class="line">			a[++idx]=&#123;A+B,<span class="number">0</span>&#125;;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">sort</span>(a+<span class="number">1</span>,a+<span class="number">1</span>+idx,cmp);</span><br><span class="line">	<span class="keyword">int</span> ans=n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=idx;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(a[i].h!=a[i<span class="number">-1</span>].h)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(x==<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">            x--;</span><br><span class="line">        &#125;</span><br><span class="line">		ans=ans+a[i].k<span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	cout&lt;&lt;ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>



<p>设$N$为所有随从的数量加上它们亡语召唤的随从数量，即$N=n</p>
</div><footer class="post-footer"><div class="post-ending ending"><div class="ending__text">------ 本文结束，感谢您的阅读 ------</div></div><div class="post-copyright copyright"><div class="copyright-author"><span class="copyright-author__name">本文作者: </span><span class="copyright-author__value"><a href="http://example.com">wudya</a></span></div><div class="copyright-link"><span class="copyright-link__name">本文链接: </span><span class="copyright-link__value"><a href="http://example.com/2023/04/29/2022NWAFU-ACM%E6%8B%9B%E6%96%B0%E9%A2%98%E8%A7%A3/">http://example.com/2023/04/29/2022NWAFU-ACM%E6%8B%9B%E6%96%B0%E9%A2%98%E8%A7%A3/</a></span></div><div class="copyright-notice"><span class="copyright-notice__name">版权声明: </span><span class="copyright-notice__value">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" rel="external nofollow" target="_blank">BY-NC-SA</a> 许可协议。转载请注明出处！</span></div></div><div class="post-tags"><span class="post-tags-item"><span class="post-tags-item__icon"><i class="fas fa-tag"></i></span><a class="post-tags-item__link" href="http://example.com/tags/ACM/">ACM</a></span></div><nav class="post-paginator paginator"><div class="paginator-prev"><a class="paginator-prev__link" href="/2023/06/17/%E6%95%B4%E9%99%A4%E6%80%A7%E8%B4%A8/"><span class="paginator-prev__icon"><i class="fas fa-angle-left"></i></span><span class="paginator-prev__text">整除性质</span></a></div><div class="paginator-next"><a class="paginator-next__link" href="/2023/02/28/%E5%9F%BA%E7%A1%80%E5%8D%9A%E5%BC%88%E5%85%AC%E5%BC%8F/"><span class="paginator-prev__text">基础博弈公式</span><span class="paginator-next__icon"><i class="fas fa-angle-right"></i></span></a></div></nav></footer></div></div></div><div class="sidebar-wrap" id="sidebar-wrap"><aside class="sidebar" id="sidebar"><div class="sidebar-nav"><span class="sidebar-nav-toc current">文章目录</span><span class="sidebar-nav-ov">站点概览</span></div><section class="sidebar-toc"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%AF%B9%E4%BA%8E%E5%89%8D70-%E6%95%B0%E6%8D%AE%E8%8C%83%E5%9B%B4%E7%9A%84%E8%A7%A3%E6%B3%95"><span class="toc-number">1.</span> <span class="toc-text">
          1.对于前70%数据范围的解法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%AF%B9%E4%BA%8E100-%E6%95%B0%E6%8D%AE%E8%8C%83%E5%9B%B4%E7%9A%84%E8%A7%A3%E6%B3%95"><span class="toc-number">2.</span> <span class="toc-text">
          2.对于100%数据范围的解法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E4%BA%8C%E5%88%86%E8%A7%A3%E6%B3%95"><span class="toc-number">2.1.</span> <span class="toc-text">
          1.二分解法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%93%88%E5%B8%8C"><span class="toc-number">2.2.</span> <span class="toc-text">
          2.哈希</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%A3%E8%A7%A3%E4%BB%A3%E7%A0%81%EF%BC%9A"><span class="toc-number">2.3.</span> <span class="toc-text">
          正解代码：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#70-%E5%81%9A%E6%B3%95"><span class="toc-number"></span> <span class="toc-text">
          $70%$做法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#100-%E5%81%9A%E6%B3%95"><span class="toc-number"></span> <span class="toc-text">
          $100%$做法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%A3%E8%A7%A3%E4%BB%A3%E7%A0%81%EF%BC%9A-1"><span class="toc-number">0.1.</span> <span class="toc-text">
          正解代码：</span></a></li></ol></li></ol></section><!-- ov = overview--><section class="sidebar-ov hide"><div class="sidebar-ov-author"><div class="sidebar-ov-author__avatar"><img class="sidebar-ov-author__avatar_img" src="/images/icons/stun-logo.svgstun-logo.png" alt="avatar"></div><p class="sidebar-ov-author__text">晨阳</p></div><div class="sidebar-ov-state"><a class="sidebar-ov-state-item sidebar-ov-state-item--posts" href="/archives/"><div class="sidebar-ov-state-item__count">35</div><div class="sidebar-ov-state-item__name">归档</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--categories" href="/categories/"><div class="sidebar-ov-state-item__count">24</div><div class="sidebar-ov-state-item__name">分类</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--tags" href="/tags/"><div class="sidebar-ov-state-item__count">27</div><div class="sidebar-ov-state-item__name">标签</div></a></div><div class="sidebar-ov-cc"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" target="_blank" rel="noopener" data-popover="知识共享许可协议" data-popover-pos="up"><img src="/images/cc-by-nc-sa.svg"></a></div></section><div class="sidebar-reading"><div class="sidebar-reading-info"><span class="sidebar-reading-info__text">你已阅读了 </span><span class="sidebar-reading-info__num">0</span><span class="sidebar-reading-info__perc">%</span></div><div class="sidebar-reading-line"></div></div></aside></div><div class="clearfix"></div></div></main><footer class="footer" id="footer"><div class="footer-inner"><div><span>Copyright © 2023</span><span class="footer__icon"><i class="fas fa-heart"></i></span><span>wudya</span></div><div><span>由 <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a> 强力驱动</span><span> v6.0.0</span><span class="footer__devider">|</span><span>主题 - <a href="https://github.com/liuyib/hexo-theme-stun/" title="Stun" target="_blank" rel="noopener">Stun</a></span><span> v2.6.2</span></div></div></footer><div class="loading-bar" id="loading-bar"><div class="loading-bar__progress"></div></div><div class="back2top" id="back2top"><span class="back2top__icon"><i class="fas fa-rocket"></i></span></div></div><script src="https://cdn.jsdelivr.net/npm/jquery@v3.4.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.ui.min.js"></script><script src="/js/utils.js?v=2.6.2"></script><script src="/js/stun-boot.js?v=2.6.2"></script><script src="/js/scroll.js?v=2.6.2"></script><script src="/js/header.js?v=2.6.2"></script><script src="/js/sidebar.js?v=2.6.2"></script></body></html>